# Яндекс КИТ 2014.
## Регистрационные задания. Задание #1.

### Описание задания
В системе работают два RAID1-массива mdadm, состоящих из дисков одинакового размера. А также один запасной диск такого же размера — для замены вышедшего из строя. Напишите скрипт, который бы следил за выходом из строя дисков в любом из настроенных массивов и автоматически исправлял деградировавший массив.

### Решение
Запустите скрипт check_array.py

### Известные "особенности"
* Скрипт расчитан на работу с одинаковыми по размеру дисками
* Скрипт не предназначен для работы со сложной структурой распределения рейдов по дискам (например, рейд A состоит из партиций дисков 1 и 2, рейд B - 2 и 3)
* Если вышли из строя разные партиции на дисках обеспечивающих одну и ту же группу рейд-массивов, часть рейд-массивов останется без зеркалирования

### Тестирование
- [x] Запуск скрипта при вышедшем из строя (диск помечается как Failed) диске (скрипт успешно добавляет свободный диск)
- [ ] Запуск скрипта при вышедшей из строя партиции (скрипт удаляет остальные партиции вышедшего из строя диска и заменяет их аналогичными партициями свободного диска)
- [x] Запуск скрипта при двух вышедших из строя дисках в разных массивах и двух свободных дисках (скрипт успешно добавляет диски в массивы)
- [ ] Запуск скрипта при выходе из строя двух партиций на разных дисках обеспечивающих одну группу массивов (скрипт удаляет зеркалирование на всей группе массивов (где-то остается партиции с одного диска, где-то с другого), затем старается восстановить за счет свободных дисков)
- [x] Запуск скрипта при пропаже диска (скрипт успешно добавляет свободный диск)
- [ ] Запуск скрипта при пропаже партиции (скрипт добавляет партицию со свободного диска, также он добавляет аналогичные партиции к другим рейд-массивам, в которых присутствует первый диск проблемного рейд-массива)

### ToDo (в порядке приоритета)
1. Поработать над логикой работы скрипта
1. Добавить систему нотификаций
2. Добавить проверку здоровья диска перед добавлением